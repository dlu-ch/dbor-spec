% SPDX-License-Identifier: CC-BY-4.0
% DBOR specification - Dense Binary Object Representation
% Copyright (C) 2020 Daniel Lutz <dlu-ch@users.noreply.github.com>

\section{Introduction}
%%%%%%%%%%%%%%%%%%%%%%

DBOR (short for Dense Binary Object Representation) specifies the representation of structured data by
sequences of bytes.
Think of it as a binary XML or JSON, much like CBOR%
\footnote{%
    \url{https://tools.ietf.org/html/rfc7049}
}%
.

\medskip
See section~\ref{sec:applicationexamples} for some examples if you wonder what this may be good for.


\subsection{Objectives}
%%%%%%%%%%%%%%%%%%%%%%%

The shared objective of DBOR and CBOR%
\footnote{%
    \url{https://tools.ietf.org/html/rfc7049\#section-1.1}
}
is to be
\emph{self-describing} (no separate schema description) and
\emph{compact} (high information density of encoded data and small code size of encoders and decoders).
The reasoning why CBOR meets these objectives better than earlier binary formats (like ASN.1) is outlined in~RFC~7049%
\footnote{%
    \url{https://tools.ietf.org/html/rfc7049\#appendix-E}
}
and applies to DBOR as well.

\medskip
There are important differences, however.

In contrast to CBOR, DBOR is designed as a self-contained and simple building block for transport or storage
of structured data in embedded real-time systems and not so much as a pragmatic replacement of JSON in the internet
to be extended gradually over the years.
Therefore, DBOR is simpler, less ambiguous, faster to decode, has a higher information density, and gives more attention
to the presentation of numbers.

\medskip
See section~\ref{sec:comparisontocbor} for a more detailed comparison between DBOR and CBOR\@.


\subsection{Terms and notation}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

In this specification, $N$ always denotes the constant
$\sum_{i = 1}^8 2^{8i}
= 18\,519\,084\,246\,547\,628\,288
\approx 1.003922 \cdot 2^{64}$.

\noindent
{%
    \setlength\extrarowheight{0.8ex}%
    \begin{tabular}{@{} p{.1\textwidth} p{.8\textwidth}}
        $\SetOfReals$: &
            the set of real numbers \\
        $\SetOfIntegers$: &
            the set of integers $\subset \SetOfReals$ \\
        $\IntegerInterval{a}{b}$: &
            $\{i \in \SetOfIntegers\colon a \le i \le b\}$ \\
        $\ByteSequence{a, b, \ldots}$: &
            byte sequence, starting with byte $a$ \\
        $a \Concat b$: &
            concatenation of bytes sequences $a$, $b$: $a$ followed by $b$ \\
        $\|a\|$: &
            size of bytes sequence $a$ in byte \\
        "\dots": &
            UTF-8 encoded Unicode string in Normalization Form C (NFC) \\
    \end{tabular}%
}


\subsection{License}
%%%%%%%%%%%%%%%%%%%%

This work is licensed under the Creative Commons Attribution 4.0 International License.
To view a copy of this license, visit \url{http://creativecommons.org/licenses/by/4.0/} or
send a letter to Creative Commons, PO Box 1866, Mountain View, CA 94042, USA.
